{"ast":null,"code":"import _slicedToArray from\"C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{AuthContext}from'./login/auth';import'./estilo/cuenta.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AccountDetails(){var _useState=useState({nombre:'',apellido:'',username:'',password:'*****',email:''}),_useState2=_slicedToArray(_useState,2),accountDetails=_useState2[0],setAccountDetails=_useState2[1];var _useContext=useContext(AuthContext),isLoggedAdmin=_useContext.isLoggedAdmin;var _useContext2=useContext(AuthContext),isLoggedCliente=_useContext2.isLoggedCliente;var _useContext3=useContext(AuthContext),logout=_useContext3.logout;useEffect(function(){var getUser=function getUser(){if(isLoggedCliente){var accountId=localStorage.getItem(\"id_cliente\");fetch(\"http://localhost:8090/cliente/\".concat(accountId)).then(function(response){return response.json();}).then(function(data){setAccountDetails({nombre:data.name,apellido:data.last_name,username:data.username,password:'*****',email:data.email});}).catch(function(error){console.error('Error al obtener los datos del cliente:',error);});}else if(isLoggedAdmin){var _accountId=localStorage.getItem(\"id_admin\");fetch(\"http://localhost:8090/cliente/email/\".concat(_accountId)).then(function(response){return response.json();}).then(function(data){setAccountDetails({nombre:data.name,apellido:data.last_name,username:data.username,password:'*****',email:data.email});}).catch(function(error){console.error('Error al obtener los datos del cliente:',error);});}else{window.location.href='/login-cliente';}};getUser();},[isLoggedAdmin,isLoggedCliente]);var cerrarSesion=function cerrarSesion(){logout();};var reservas=function reservas(){window.location.href='/reservas-cliente';};return/*#__PURE__*/_jsx(\"body\",{className:\"bodyCuenta\",children:/*#__PURE__*/_jsx(\"div\",{className:\"containerCU\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"account-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalles de la cuenta\"}),/*#__PURE__*/_jsx(\"div\",{className:\"account-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Nombre: \",accountDetails.nombre]})}),/*#__PURE__*/_jsx(\"div\",{className:\"account-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Apellido: \",accountDetails.apellido]})}),/*#__PURE__*/_jsx(\"div\",{className:\"account-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"UserName: \",accountDetails.username]})}),/*#__PURE__*/_jsx(\"div\",{className:\"account-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Password: \",accountDetails.password]})}),/*#__PURE__*/_jsx(\"div\",{className:\"account-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",accountDetails.email]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:cerrarSesion,children:\"Cerrar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reservations-button\",onClick:reservas,children:\"Reservas\"})]})]})})});}export default AccountDetails;","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","jsx","_jsx","jsxs","_jsxs","AccountDetails","_useState","nombre","apellido","username","password","email","_useState2","_slicedToArray","accountDetails","setAccountDetails","_useContext","isLoggedAdmin","_useContext2","isLoggedCliente","_useContext3","logout","getUser","accountId","localStorage","getItem","fetch","concat","then","response","json","data","name","last_name","catch","error","console","window","location","href","cerrarSesion","reservas","className","children","onClick"],"sources":["C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/src/pages/cuenta.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { AuthContext } from './login/auth';\r\nimport './estilo/cuenta.css';\r\n\r\nfunction AccountDetails() {\r\n  const [accountDetails, setAccountDetails] = useState({\r\n    nombre: '',\r\n    apellido: '',\r\n    username: '',\r\n    password: '*****',\r\n    email: ''\r\n  });\r\n\r\n  const { isLoggedAdmin } = useContext(AuthContext);\r\n  const { isLoggedCliente } = useContext(AuthContext);\r\n  const { logout } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const getUser = () => {\r\n      if (isLoggedCliente) {\r\n        const accountId = localStorage.getItem(\"id_cliente\");\r\n        fetch(`http://localhost:8090/cliente/${accountId}`)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setAccountDetails({\r\n              nombre: data.name,\r\n              apellido: data.last_name,\r\n              username: data.username,\r\n              password: '*****',\r\n              email: data.email\r\n            });\r\n          })\r\n          .catch(error => {\r\n            console.error('Error al obtener los datos del cliente:', error);\r\n          });\r\n      }\r\n      else if (isLoggedAdmin) {\r\n        const accountId = localStorage.getItem(\"id_admin\");\r\n        fetch(`http://localhost:8090/cliente/email/${accountId}`)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setAccountDetails({\r\n              nombre: data.name,\r\n              apellido: data.last_name,\r\n              username: data.username,\r\n              password: '*****',\r\n              email: data.email\r\n            });\r\n          })\r\n          .catch(error => {\r\n            console.error('Error al obtener los datos del cliente:', error);\r\n          });\r\n      }\r\n      else {\r\n        window.location.href = '/login-cliente';\r\n      }\r\n    };\r\n\r\n    getUser();\r\n  }, [isLoggedAdmin, isLoggedCliente]);\r\n\r\n  const cerrarSesion = () => {\r\n    logout();\r\n  };\r\n\r\n  const reservas = () => {\r\n    window.location.href = '/reservas-cliente';\r\n  };\r\n\r\n  return (\r\n    <body className=\"bodyCuenta\">\r\n    <div className=\"containerCU\">\r\n      <div className=\"account-form\">\r\n        <h2>Detalles de la cuenta</h2>\r\n        <div className=\"account-field\">\r\n          <p>Nombre: {accountDetails.nombre}</p>\r\n        </div>\r\n        <div className=\"account-field\">\r\n          <p>Apellido: {accountDetails.apellido}</p>\r\n        </div>\r\n        <div className=\"account-field\">\r\n          <p>UserName: {accountDetails.username}</p>\r\n        </div>\r\n        <div className=\"account-field\">\r\n          <p>Password: {accountDetails.password}</p>\r\n        </div>\r\n        <div className=\"account-field\">\r\n          <p>Email: {accountDetails.email}</p>\r\n        </div>\r\n        <div className=\"account-buttons\">\r\n          <button className=\"logout-button\" onClick={cerrarSesion}>Cerrar sesi√≥n</button>\r\n          <button className=\"reservations-button\" onClick={reservas}>Reservas</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </body>\r\n  );\r\n}\r\n\r\nexport default AccountDetails;"],"mappings":"uMAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,cAAc,CAC1C,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7B,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,IAAAC,SAAA,CAA4CP,QAAQ,CAAC,CACnDQ,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,OAAO,CACjBC,KAAK,CAAE,EACT,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAP,SAAA,IANKQ,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAQxC,IAAAI,WAAA,CAA0BnB,UAAU,CAACG,WAAW,CAAC,CAAzCiB,aAAa,CAAAD,WAAA,CAAbC,aAAa,CACrB,IAAAC,YAAA,CAA4BrB,UAAU,CAACG,WAAW,CAAC,CAA3CmB,eAAe,CAAAD,YAAA,CAAfC,eAAe,CACvB,IAAAC,YAAA,CAAmBvB,UAAU,CAACG,WAAW,CAAC,CAAlCqB,MAAM,CAAAD,YAAA,CAANC,MAAM,CAEdvB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAwB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,GAAIH,eAAe,CAAE,CACnB,GAAM,CAAAI,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACpDC,KAAK,kCAAAC,MAAA,CAAkCJ,SAAS,EAAG,CAChDK,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZhB,iBAAiB,CAAC,CAChBR,MAAM,CAAEwB,IAAI,CAACC,IAAI,CACjBxB,QAAQ,CAAEuB,IAAI,CAACE,SAAS,CACxBxB,QAAQ,CAAEsB,IAAI,CAACtB,QAAQ,CACvBC,QAAQ,CAAE,OAAO,CACjBC,KAAK,CAAEoB,IAAI,CAACpB,KACd,CAAC,CAAC,CACJ,CAAC,CAAC,CACDuB,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CACjE,CAAC,CAAC,CACN,CAAC,IACI,IAAIlB,aAAa,CAAE,CACtB,GAAM,CAAAM,UAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAClDC,KAAK,wCAAAC,MAAA,CAAwCJ,UAAS,EAAG,CACtDK,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZhB,iBAAiB,CAAC,CAChBR,MAAM,CAAEwB,IAAI,CAACC,IAAI,CACjBxB,QAAQ,CAAEuB,IAAI,CAACE,SAAS,CACxBxB,QAAQ,CAAEsB,IAAI,CAACtB,QAAQ,CACvBC,QAAQ,CAAE,OAAO,CACjBC,KAAK,CAAEoB,IAAI,CAACpB,KACd,CAAC,CAAC,CACJ,CAAC,CAAC,CACDuB,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CACjE,CAAC,CAAC,CACN,CAAC,IACI,CACHE,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,gBAAgB,CACzC,CACF,CAAC,CAEDjB,OAAO,EAAE,CACX,CAAC,CAAE,CAACL,aAAa,CAAEE,eAAe,CAAC,CAAC,CAEpC,GAAM,CAAAqB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBnB,MAAM,EAAE,CACV,CAAC,CAED,GAAM,CAAAoB,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrBJ,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,mBAAmB,CAC5C,CAAC,CAED,mBACErC,IAAA,SAAMwC,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC5BzC,IAAA,QAAKwC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BvC,KAAA,QAAKsC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BzC,IAAA,OAAAyC,QAAA,CAAI,uBAAqB,EAAK,cAC9BzC,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvC,KAAA,MAAAuC,QAAA,EAAG,UAAQ,CAAC7B,cAAc,CAACP,MAAM,GAAK,EAClC,cACNL,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvC,KAAA,MAAAuC,QAAA,EAAG,YAAU,CAAC7B,cAAc,CAACN,QAAQ,GAAK,EACtC,cACNN,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvC,KAAA,MAAAuC,QAAA,EAAG,YAAU,CAAC7B,cAAc,CAACL,QAAQ,GAAK,EACtC,cACNP,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvC,KAAA,MAAAuC,QAAA,EAAG,YAAU,CAAC7B,cAAc,CAACJ,QAAQ,GAAK,EACtC,cACNR,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BvC,KAAA,MAAAuC,QAAA,EAAG,SAAO,CAAC7B,cAAc,CAACH,KAAK,GAAK,EAChC,cACNP,KAAA,QAAKsC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BzC,IAAA,WAAQwC,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEJ,YAAa,CAAAG,QAAA,CAAC,kBAAa,EAAS,cAC/EzC,IAAA,WAAQwC,SAAS,CAAC,qBAAqB,CAACE,OAAO,CAAEH,QAAS,CAAAE,QAAA,CAAC,UAAQ,EAAS,GACxE,GACF,EACF,EACC,CAEX,CAEA,cAAe,CAAAtC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}