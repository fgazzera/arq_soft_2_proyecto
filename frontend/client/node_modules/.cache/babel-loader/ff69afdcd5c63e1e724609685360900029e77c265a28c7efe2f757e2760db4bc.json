{"ast":null,"code":"import _defineProperty from\"C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../estilo/Register_cliente.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegistrationPage(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),clienteEmail=_useState2[0],setEmail=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),clienteUsername=_useState4[0],setUsername=_useState4[1];var _useState5=useState({name:\"\",last_name:\"\",username:\"\",password:\"\",email:\"\"}),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){setEmail('');if(formData.email){fetch(\"http://localhost:8090/cliente/email/\".concat(formData.email)).then(function(response){return response.json();}).then(function(data){setEmail(data);}).catch(function(error){console.error('Error al obtener los datos del cliente:',error);});}},[formData.email]);useEffect(function(){setUsername('');if(formData.username){fetch(\"http://localhost:8090/cliente/username/\".concat(formData.username)).then(function(response){return response.json();}).then(function(data){setUsername(data);}).catch(function(error){console.error('Error al obtener los datos del cliente:',error);});}},[formData.username]);var Register=function Register(){if(formData.email===clienteEmail.email){alert('El email ya pertenece a una cuanta');}else if(formData.username===clienteUsername.username){alert('El username no esta disponible');}else{fetch('http://localhost:8090/cliente',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(function(response){return response.json();}).then(function(data){console.log('Registro exitoso:',data);window.location.href='/login-cliente';}).catch(function(error){console.error('Error en el registro:',error);alert('Credenciales incorrectas');});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"registration-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registro\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:Register,className:\"registration-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Nombre:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Apellido:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"last_name\",value:formData.last_name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Nombre de usuario:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Contrase\\xF1a:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrarse\"})]})]});}export default RegistrationPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","RegistrationPage","_useState","_useState2","_slicedToArray","clienteEmail","setEmail","_useState3","_useState4","clienteUsername","setUsername","_useState5","name","last_name","username","password","email","_useState6","formData","setFormData","handleChange","e","_objectSpread","_defineProperty","target","value","fetch","concat","then","response","json","data","catch","error","console","Register","alert","method","headers","body","JSON","stringify","log","window","location","href","className","children","onSubmit","type","onChange","required"],"sources":["C:/Users/tomig/OneDrive/Escritorio/Visual_Studio_Code/Arquitectura_De_Software_I/arqsoft/Proyecto/frontend/client/src/pages/login/Register_cliente.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../estilo/Register_cliente.css';\r\n\r\nfunction RegistrationPage() {\r\n  const [clienteEmail, setEmail] = useState({});\r\n  const [clienteUsername, setUsername] = useState({});\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    last_name: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\"\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setEmail('');\r\n  \r\n    if (formData.email) {\r\n      fetch(`http://localhost:8090/cliente/email/${formData.email}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setEmail(data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error al obtener los datos del cliente:', error);\r\n        });\r\n    }\r\n  }, [formData.email]);\r\n\r\n  useEffect(() => {\r\n    setUsername('');\r\n  \r\n    if (formData.username) {\r\n      fetch(`http://localhost:8090/cliente/username/${formData.username}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setUsername(data);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error al obtener los datos del cliente:', error);\r\n        });\r\n    }\r\n  }, [formData.username]);\r\n\r\n  const Register = () => {\r\n    if (formData.email === clienteEmail.email) {\r\n      alert('El email ya pertenece a una cuanta');\r\n    }\r\n    else if (formData.username === clienteUsername.username) {\r\n      alert('El username no esta disponible');\r\n    }\r\n    else\r\n    {\r\n      fetch('http://localhost:8090/cliente', {\r\n      method: 'POST',\r\n      headers: {\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(formData)\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log('Registro exitoso:', data);\r\n        window.location.href = '/login-cliente';\r\n      })\r\n      .catch(error => {\r\n        console.error('Error en el registro:', error);\r\n        alert('Credenciales incorrectas');\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"registration-container\">\r\n      <h2>Registro</h2>\r\n      <form onSubmit={Register} className=\"registration-form\">\r\n        <label>\r\n          Nombre:\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          Apellido:\r\n          <input\r\n            type=\"text\"\r\n            name=\"last_name\"\r\n            value={formData.last_name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          Nombre de usuario:\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={formData.username}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          Contrase√±a:\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <button type=\"submit\">Registrarse</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegistrationPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}